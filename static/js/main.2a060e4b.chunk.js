(this["webpackJsonpweather-app"]=this["webpackJsonpweather-app"]||[]).push([[0],{168:function(e,t,a){e.exports=a.p+"static/media/mwa.751f7d15.svg"},208:function(e,t,a){e.exports=a(387)},213:function(e,t,a){},214:function(e,t,a){},387:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),o=a.n(c),i=(a(213),a(214),a(21)),u=a(119),l=a(168),s=a.n(l),m=a(27),d=a(120),p=a(66),f=a.n(p),h=a(116),E=a(169).create({baseURL:"https://api.openweathermap.org/data/2.5"}),b="d21a69f7a784d46986923a31e411755e",w=function(e,t){return E.get("weather?lat=".concat(e,"&lon=").concat(t,"&appid=").concat(b))},v=function(e){return E.get("weather?q=".concat(e,"&appid=").concat(b))},g=a(62),O={error:"",coords:{},weather:{}},j=function(e){return{type:"SET_WEATHER",payload:e}},y=function(e){return{type:"HANDLE_ERROR",error:e}},T=function(e){return function(){var t=Object(h.a)(f.a.mark((function t(a){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v(e);case 3:r=t.sent,a(j(r.data)),a(Object(g.a)("city_name")),a(y("")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),a(y("There is no such city on this planet")),a(Object(g.a)("city_name"));case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},N=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COORDINATES":return Object(m.a)({},e,{coords:t.coords});case"SET_WEATHER":return Object(m.a)({},e,{weather:t.payload});case"UPDATE_TEMPERATURE":return Object(m.a)({},e,{weather:Object(m.a)({},e.weather,{main:Object(m.a)({},e.weather.main,{temp:t.temp})})});case"HANDLE_ERROR":return Object(m.a)({},e,{error:t.error});default:return e}},R=function(){var e=function(){var e=Object(r.useState)({}),t=Object(d.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(null),o=Object(d.a)(c,2),i=o[0],u=o[1],l=function(e){var t=e.coords;n({latitude:t.latitude,longitude:t.longitude})},s=function(e){u(e.message)};return Object(r.useEffect)((function(){var e=navigator.geolocation;if(e){var t=e.watchPosition(l,s);return function(){return e.clearWatch(t)}}u("Geolocation is not supported")}),[]),Object(m.a)({},a,{error:i})}(),t=e.latitude,a=e.longitude,c=e.error,o=Object(i.c)();return Object(r.useEffect)((function(){o(function(e){return{type:"SET_COORDINATES",coords:e}}({latitude:t,longitude:a}))}),[t,a]),n.a.createElement("div",null,n.a.createElement(u.a,{bg:"primary",expand:"lg",variant:"dark"},n.a.createElement(u.a.Brand,{href:"/"},n.a.createElement("img",{className:"wicustom",src:s.a,alt:"wico"}),"Geolocation Weather App ",c?n.a.createElement("span",{className:"alert-warning"},c):null)))},_=a(171),S=a(172),k=a(180),x=a(173),W=a(181),A=a(11),P=a(67),C=function(){return n.a.createElement("div",{className:"spinner-border",role:"status"},n.a.createElement("span",{className:"sr-only"},"Loading..."))},D=a(179),U=(a(289),function(e){var t=e.coords.latitude,a=e.coords.longitude;if(Object(r.useEffect)((function(){t&&e.getWeather(t,a)}),[t,a]),!e.weather.sys)return n.a.createElement(C,null);var c="http://openweathermap.org/img/wn/".concat(e.weather.weather[0].icon,"@2x.png"),o=Math.round(e.weather.main.temp-273.15),i=function(e){var t="";switch(!0){case e<=-10:t="#00ffff";break;case e>-10&&e<=10:t="#fff700";break;case e>30:t="#ff8c00";break;default:t="#ffc800"}return t}(o);return n.a.createElement("div",{className:"center"},n.a.createElement("div",{className:"mySlider"},n.a.createElement(D.a,{min:-15,max:40,defaultValue:o,onChange:function(t){e.updateTemp(t+273.15)}})),n.a.createElement("div",null," ",e.error&&n.a.createElement("span",null,e.error)," "),n.a.createElement("div",null,n.a.createElement(P.a,{style:{width:"14rem",backgroundColor:i}},n.a.createElement(P.a.Img,{variant:"top",src:c,width:"5",height:"230"}),n.a.createElement(P.a.Body,null,n.a.createElement(P.a.Title,null,e.weather.name," , ",e.weather.sys.country),n.a.createElement("div",null,n.a.createElement("span",{className:"badge badge-info"}," ",o,"\xb0\u0421 "),n.a.createElement("span",{className:"badge badge-info"}," ",e.weather.weather[0].description," "),n.a.createElement("div",null," latitude : ",e.weather.coord.lat.toFixed(2)," "),n.a.createElement("div",null," longitude : ",e.weather.coord.lon.toFixed(2)," "))))))}),I=function(e){function t(){return Object(_.a)(this,t),Object(k.a)(this,Object(x.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(S.a)(t,[{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,n.a.createElement(U,{error:this.props.error,coords:this.props.coords,getWeather:this.props.getWeather,weather:this.props.weather,getParticularCityWeather:this.props.getParticularCityWeather,updateTemp:this.props.updateTemp}))}}]),t}(r.PureComponent),L=Object(A.d)(Object(i.b)((function(e){return{error:e.weather.error,coords:e.weather.coords,weather:e.weather.weather}}),{getWeather:function(e,t){return function(){var a=Object(h.a)(f.a.mark((function a(r){var n;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w(e,t);case 2:n=a.sent,r(j(n.data));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},getParticularCityWeather:T,updateTemp:function(e){return{type:"UPDATE_TEMPERATURE",temp:e}}}))(I),B=a(164),F=a(165),H=a(182),M=function(e){var t=e.input,a=e.meta,r=Object(H.a)(e,["input","meta"]),c=a.touched&&a.error;return n.a.createElement(n.a.Fragment,null,n.a.createElement("input",Object.assign({},t,r,{className:"form-control "+(c?"is-invalid":"")})),c&&n.a.createElement("div",{className:"invalid-feedback"},"Required field"))},q=function(e){if(!e)return"Required field"},G=Object(F.a)({form:"city_name"})((function(e){return n.a.createElement("div",{className:"form-inline"},n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement(B.a,{name:"city",type:"text",component:M,validate:[q],placeholder:"Enter city name"}),n.a.createElement("button",{className:"btn btn-primary btn-sm "},"Search")))})),J=function(e){var t=Object(i.c)();return n.a.createElement("div",{className:"center mt20"},n.a.createElement(G,{onSubmit:function(e){t(T(e.city))}}))};var V=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(R,null),n.a.createElement(L,null),n.a.createElement(J,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var X=a(178),$=a(166),z=Object(A.c)({form:$.a,weather:N}),K=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||A.d,Q=Object(A.e)(z,K(Object(A.a)(X.a)));o.a.render(n.a.createElement(i.a,{store:Q},n.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[208,1,2]]]);
//# sourceMappingURL=main.2a060e4b.chunk.js.map